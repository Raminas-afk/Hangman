import random
from tkinter import *
from tkinter import Frame

# Pagrindinis langas
root = Tk()
root.config(bg="blue")
root.resizable(False, False)
root.title('Kartuvės')
window_width = 600
window_height = 400
screen_width = root.winfo_screenwidth()
screen_height = root.winfo_screenheight()
center_x = int(screen_width / 2 - window_width / 2)
center_y = int(screen_height / 2 - window_height / 2)
root.geometry(f'{window_width}x{window_height}+{center_x}+{center_y}')

#Fonas

#bg = PhotoImage(file = "background.png")
#label1 = Label( root, image = bg)
#label1.place(x = 0, y = 0)

# Žaidimo settingai

word_list = ["STALAS", "RASA", "ARBATA", "PROBLEMA", "AKMUO", "PASAULIS", "ĮSTATYMAS", "PAREIGŪNAS", "PARDUOTUVĖ"]
spejamas_zodis = random.choice(word_list)
nematomas_zodis = "−" * len(spejamas_zodis)

# Pagrindinis label (welcome, outcomes, spėjamas žodis)

teksto_langas = Label(root, text="Žaidimas 'Kartuvės'. Turite 6 bandymus atspėti žodį. Sėkmės !", font=20)
teksto_langas.pack(padx=0, pady=20)
teksto_langas2 = Label(root, text=nematomas_zodis, font=20)
teksto_langas2.pack(padx=1, pady=20)

# Frames
raidziuframe = Frame(root, padx=2, pady=1)
raidziuframe.pack(side=TOP)
raidziuframe2 = Frame(root, padx=2, pady=1)
raidziuframe2.pack(side=TOP)
raidziuframe3 = Frame(root, padx=2, pady=1)
raidziuframe3.pack(side=TOP)
naujozaidimoframe = Frame(root, padx=2, pady=5)
naujozaidimoframe.pack(side=TOP)
left_frame = Frame(root, bg="red", bd=2, relief=SOLID, padx=10, pady=10)
left_frame.place(x=50, y=50)

def naujas_zaidimas():
    global spejamas_zodis
    global nematomas_zodis
    while True:
        spejamas_zodis = random.choice(word_list)
        nematomas_zodis = "−" * len(spejamas_zodis)
        spejimai.bandymai = 6
        teksto_langas.config(text="Žaidimas 'Kartuvės'. Turite 6 bandymus atspėti žodį. Sėkmės !", font=20)
        teksto_langas2.config(text=nematomas_zodis, font=20)
        yjungti_visus_mygtukus()
        paslepti_zaidimo_mygtuka()
        break


class Spejimai:
    def __init__(self):
        self.bandymai = 6
        self.rezultatas = []

    def tikrinti_spejima(self, spejimas):
        self.isjungti_spejamus_mygtukus(spejimas)

        if spejimas in spejamas_zodis:
            self.teisingas_spejimas(spejimas)

        elif spejimas not in spejamas_zodis:
            self.neteisingas_spejimas(spejimas)

    def teisingas_spejimas(self, spejimas):
        global nematomas_zodis
        for raide in range(len(spejamas_zodis)):
            if spejamas_zodis[raide] == spejimas:
                nematomas_zodis = nematomas_zodis[:raide] + spejamas_zodis[raide] + nematomas_zodis[raide + 1:]
                teksto_langas.config(text=f"Atspėjai! raidė {spejimas} yra šiame žodyje.")
                teksto_langas2.config(text=nematomas_zodis)
        if spejamas_zodis == nematomas_zodis:
            self.rezultatas.append("Pergalė")
            teksto_langas.config(text="Laimėjai! Žaisti dar kartą?")
            naujas_zaidimas_button.grid(row=0, column=5)
            isjungti_visus_mygtukus()

    def neteisingas_spejimas(self, spejimas):
        self.bandymai -= 1
        teksto_langas.config(text=f"Neatspėjai! Raidės {spejimas} žodyje nėra. Liko {self.bandymai} bandymai")
        if self.bandymai == 0:
            self.rezultatas.append("Pralaimėjimas")
            teksto_langas.config(text=f"Pralaimėjai! Žaisti dar kartą?")
            teksto_langas2.config(text=spejamas_zodis)
            naujas_zaidimas_button.grid(row=0, column=5)
            isjungti_visus_mygtukus()

    def isjungti_spejamus_mygtukus(self, spejimas):
        if spejimas == "A":
            a_button["state"] = DISABLED
        elif spejimas == "Ą":
            a2_button["state"] = DISABLED
        elif spejimas == "B":
            b_button["state"] = DISABLED
        elif spejimas == "C":
            c_button["state"] = DISABLED
        elif spejimas == "Č":
            c2_button["state"] = DISABLED
        elif spejimas == "D":
            d_button["state"] = DISABLED
        elif spejimas == "E":
            e_button["state"] = DISABLED
        elif spejimas == "Ę":
            e2_button["state"] = DISABLED
        elif spejimas == "Ė":
            e3_button["state"] = DISABLED
        elif spejimas == "F":
            f_button["state"] = DISABLED
        elif spejimas == "G":
            g_button["state"] = DISABLED
        elif spejimas == "H":
            h_button["state"] = DISABLED
        elif spejimas == "I":
            i_button["state"] = DISABLED
        elif spejimas == "Į":
            i2_button["state"] = DISABLED
        elif spejimas == "Y":
            y_button["state"] = DISABLED
        elif spejimas == "J":
            j_button["state"] = DISABLED
        elif spejimas == "K":
            k_button["state"] = DISABLED
        elif spejimas == "L":
            l_button["state"] = DISABLED
        elif spejimas == "M":
            m_button["state"] = DISABLED
        elif spejimas == "N":
            n_button["state"] = DISABLED
        elif spejimas == "O":
            o_button["state"] = DISABLED
        elif spejimas == "P":
            p_button["state"] = DISABLED
        elif spejimas == "R":
            r_button["state"] = DISABLED
        elif spejimas == "S":
            s_button["state"] = DISABLED
        elif spejimas == "Š":
            s2_button["state"] = DISABLED
        elif spejimas == "T":
            t_button["state"] = DISABLED
        elif spejimas == "U":
            u_button["state"] = DISABLED
        elif spejimas == "Ų":
            u2_button["state"] = DISABLED
        elif spejimas == "Ū":
            u3_button["state"] = DISABLED
        elif spejimas == "V":
            v_button["state"] = DISABLED
        elif spejimas == "Z":
            z_button["state"] = DISABLED
        elif spejimas == "Ž":
            z2_button["state"] = DISABLED

def yjungti_visus_mygtukus():
    a_button["state"] = ACTIVE
    a2_button["state"] = ACTIVE
    b_button["state"] = ACTIVE
    c_button["state"] = ACTIVE
    c2_button["state"] = ACTIVE
    d_button["state"] = ACTIVE
    e_button["state"] = ACTIVE
    e2_button["state"] = ACTIVE
    e3_button["state"] = ACTIVE
    f_button["state"] = ACTIVE
    g_button["state"] = ACTIVE
    h_button["state"] = ACTIVE
    i_button["state"] = ACTIVE
    i2_button["state"] = ACTIVE
    y_button["state"] = ACTIVE
    j_button["state"] = ACTIVE
    k_button["state"] = ACTIVE
    l_button["state"] = ACTIVE
    m_button["state"] = ACTIVE
    n_button["state"] = ACTIVE
    o_button["state"] = ACTIVE
    p_button["state"] = ACTIVE
    r_button["state"] = ACTIVE
    s_button["state"] = ACTIVE
    s2_button["state"] = ACTIVE
    t_button["state"] = ACTIVE
    u_button["state"] = ACTIVE
    u2_button["state"] = ACTIVE
    u3_button["state"] = ACTIVE
    v_button["state"] = ACTIVE
    z_button["state"] = ACTIVE
    z2_button["state"] = ACTIVE

def isjungti_visus_mygtukus():
    a_button["state"] = DISABLED
    a2_button["state"] = DISABLED
    b_button["state"] = DISABLED
    c_button["state"] = DISABLED
    c2_button["state"] = DISABLED
    d_button["state"] = DISABLED
    e_button["state"] = DISABLED
    e2_button["state"] = DISABLED
    e3_button["state"] = DISABLED
    f_button["state"] = DISABLED
    g_button["state"] = DISABLED
    h_button["state"] = DISABLED
    i_button["state"] = DISABLED
    i2_button["state"] = DISABLED
    y_button["state"] = DISABLED
    j_button["state"] = DISABLED
    k_button["state"] = DISABLED
    l_button["state"] = DISABLED
    m_button["state"] = DISABLED
    n_button["state"] = DISABLED
    o_button["state"] = DISABLED
    p_button["state"] = DISABLED
    r_button["state"] = DISABLED
    s_button["state"] = DISABLED
    s2_button["state"] = DISABLED
    t_button["state"] = DISABLED
    u_button["state"] = DISABLED
    u2_button["state"] = DISABLED
    u3_button["state"] = DISABLED
    v_button["state"] = DISABLED
    z_button["state"] = DISABLED
    z2_button["state"] = DISABLED



def paslepti_zaidimo_mygtuka():
    naujas_zaidimas_button.grid_forget()


spejimai = Spejimai()

# Klaviatūros mygtukai

a_button = Button(raidziuframe, text="A", command=lambda: spejimai.tikrinti_spejima("A"))  # Pirma eile
a_button.grid(row=0, column=0)
a2_button = Button(raidziuframe, text="Ą", command=lambda: spejimai.tikrinti_spejima("Ą"))
a2_button.grid(row=0, column=1)
b_button = Button(raidziuframe, text="B", command=lambda: spejimai.tikrinti_spejima("B"))
b_button.grid(row=0, column=2)
c_button = Button(raidziuframe, text="C", command=lambda: spejimai.tikrinti_spejima("C"))
c_button.grid(row=0, column=3)
c2_button = Button(raidziuframe, text="Č", command=lambda: spejimai.tikrinti_spejima("Č"))
c2_button.grid(row=0, column=4)
d_button = Button(raidziuframe, text="D", command=lambda: spejimai.tikrinti_spejima("D"))
d_button.grid(row=0, column=5)
e_button = Button(raidziuframe, text="E", command=lambda: spejimai.tikrinti_spejima("E"))
e_button.grid(row=0, column=6)
e2_button = Button(raidziuframe, text="Ę", command=lambda: spejimai.tikrinti_spejima("Ę"))
e2_button.grid(row=0, column=7)
e3_button = Button(raidziuframe, text="Ė", command=lambda: spejimai.tikrinti_spejima("Ė"))
e3_button.grid(row=0, column=8)
f_button = Button(raidziuframe, text="F", command=lambda: spejimai.tikrinti_spejima("F"))
f_button.grid(row=0, column=9)
g_button = Button(raidziuframe, text="G", command=lambda: spejimai.tikrinti_spejima("G"))
g_button.grid(row=0, column=10)

h_button = Button(raidziuframe2, text="H", command=lambda: spejimai.tikrinti_spejima("H"))  # Antra eilė
h_button.grid(row=0, column=0)
i_button = Button(raidziuframe2, text="I", command=lambda: spejimai.tikrinti_spejima("I"))
i_button.grid(row=0, column=1)
i2_button = Button(raidziuframe2, text="Į", command=lambda: spejimai.tikrinti_spejima("Į"))
i2_button.grid(row=0, column=2)
y_button = Button(raidziuframe2, text="Y", command=lambda: spejimai.tikrinti_spejima("Y"))
y_button.grid(row=0, column=3)
j_button = Button(raidziuframe2, text="J", command=lambda: spejimai.tikrinti_spejima("J"))
j_button.grid(row=0, column=4)
k_button = Button(raidziuframe2, text="K", command=lambda: spejimai.tikrinti_spejima("K"))
k_button.grid(row=0, column=5)
l_button = Button(raidziuframe2, text="L", command=lambda: spejimai.tikrinti_spejima("L"))
l_button.grid(row=0, column=6)
m_button = Button(raidziuframe2, text="M", command=lambda: spejimai.tikrinti_spejima("M"))
m_button.grid(row=0, column=7)
n_button = Button(raidziuframe2, text="N", command=lambda: spejimai.tikrinti_spejima("N"))
n_button.grid(row=0, column=8)
o_button = Button(raidziuframe2, text="O", command=lambda: spejimai.tikrinti_spejima("O"))
o_button.grid(row=0, column=9)
p_button = Button(raidziuframe2, text="P", command=lambda: spejimai.tikrinti_spejima("P"))
p_button.grid(row=0, column=10)

r_button = Button(raidziuframe3, text="R", command=lambda: spejimai.tikrinti_spejima("R"))  # Trečia eilė
r_button.grid(row=0, column=0)
s_button = Button(raidziuframe3, text="S", command=lambda: spejimai.tikrinti_spejima("S"))
s_button.grid(row=0, column=1)
s2_button = Button(raidziuframe3, text="Š", command=lambda: spejimai.tikrinti_spejima("Š"))
s2_button.grid(row=0, column=2)
t_button = Button(raidziuframe3, text="T", command=lambda: spejimai.tikrinti_spejima("T"))
t_button.grid(row=0, column=3)
u_button = Button(raidziuframe3, text="U", command=lambda: spejimai.tikrinti_spejima("U"))
u_button.grid(row=0, column=4)
u2_button = Button(raidziuframe3, text="Ų", command=lambda: spejimai.tikrinti_spejima("Ų"))
u2_button.grid(row=0, column=5)
u3_button = Button(raidziuframe3, text="Ū", command=lambda: spejimai.tikrinti_spejima("Ū"))
u3_button.grid(row=0, column=6)
v_button = Button(raidziuframe3, text="V", command=lambda: spejimai.tikrinti_spejima("V"))
v_button.grid(row=0, column=7)
z_button = Button(raidziuframe3, text="Z", command=lambda: spejimai.tikrinti_spejima("Z"))
z_button.grid(row=0, column=8)
z2_button = Button(raidziuframe3, text="Ž", command=lambda: spejimai.tikrinti_spejima("Ž"))
z2_button.grid(row=0, column=9)
naujas_zaidimas_button = Button(naujozaidimoframe, text="Naujas žaidimas", command=naujas_zaidimas)
naujas_zaidimas_button.grid_forget()

root.mainloop()
